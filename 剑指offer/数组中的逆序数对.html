<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    // 过程：先把数组分割成子数组，先统计出子数组内部的逆序对的数目，然后再统计出两个相邻子数组之间的逆序对的数目。
    // 在统计逆序对的过程中，还需要对数组进行排序。如果对排序算法很熟悉，我们不难发现这个过程实际上就是归并排序。参考代码如下：
	function InversePairs(data)
	{
		if(!data||data.length<2) return 0;

		var copy = data.slice(),
			count = 0;
		count = mergeSort(data,copy,0,data.length-1);
		return count%1000000007;
	}

	function mergeSort(data,copy,start,end){
		if(end===start) return 0;
		var mid = (end-start)>>1,
		// var mid = (end-start)/2,
			left = mergeSort(copy,data,start,start+mid),
			right = mergeSort(copy,data,start+mid+1,end),
			count = 0,
			p = start+mid,//前一个数组的最后一个下标
			q = end,//后一个数组的最后下标
			copyIndex = end;//辅助数组下标，从最后一个算起

		while(p>=start&&q>=start+mid+1){
			if(data[p]>data[q]){
				count+=q-start-mid;
				copy[copyIndex--] = data[p--];
			}else{
				copy[copyIndex--] = data[q--];
			}
		}

		while(p>=start){
			copy[copyIndex--] = data[p--];
		}

		while(q>=start+mid+1){
			copy[copyIndex--] = data[q--];
		}
		return left+right+count;
	}

	console.log(InversePairs([7,5,6,4]))
</script>

</body>
</html>