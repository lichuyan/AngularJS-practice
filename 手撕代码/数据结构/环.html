<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    function MeetingNode(pHead) {
        //找到一快一满指针相遇处的节点，相遇的节点一定是在环中
        // write code here
        if(pHead==null){
            return  null;
        }
        var slow=pHead.next;
        if(slow==null){
            return null;
        }
        var fast=slow.next;
        while (slow!=null&&fast!=null){
            if(slow==fast){
                return fast;
            }
            slow=slow.next;
            fast=fast.next;
            if(fast!=slow){
                fast=fast.next;
            }
        }
        return  null; // 不存在环
    }
    function EntryNodeOfLoop(pHead)
    {
        var meetingNode=MeetingNode(pHead);
        if(meetingNode==null){  // 不存在环
            return null;
        }
        // 得到环中的节点数
        var count=1;
        var p1=meetingNode;
        while(p1.next!=meetingNode){
            p1=p1.next;
            ++count;
        }

        // 移动p1；
        p1=pHead;
        for(var i=0;i<count;i++){
            p1=p1.next;
        }
        //   移动p1，p2
        var p2=pHead;
        while(p1!=p2){
            p1=p1.next;
            p2=p2.next;
        }
        return p1;
    }

    function deleteDuplication(pHead)
    {
        // write code here
        var newHead = new ListNode('head'); // 因为头结点可能重复，删除掉。
        newHead.next=pHead; // 给头节点，加一个新的节点
        var p=newHead;
        var q=p.next;

        while (q!=null){
            while((q.next!=null) && (q.val==q.next.val)){
                q=q.next;
            }

            //没移动---邻接不重复
            if(p.next == q) {
                p = q;
                q = q.next;

            }
            //移动了--邻接重复
            else {
                q = q.next;
                p.next = q;
            }
        }
        return newHead.next;
    }


</script>

</body>
</html>