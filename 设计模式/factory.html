<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    //安全模式创建的工厂方法函数
    let UserFactory = function(type,content) {
        if(this instanceof UserFactory) {
            var s = new this[type](content);
            return s;
        } else {
            return new UserFactory(type,content);
        }
    }

    //工厂方法函数的原型中设置所有对象的构造函数
    UserFactory.prototype = {
        SuperAdmin: function(content) {
            this.content=content;
        },
        Admin: function(content) {
            this.content=content;
        },
        NormalUser: function(content) {
            this.content=content;
        }
    }

    var data=[
        {type:'SuperAdmin',content:"SuperAdmin最牛"},
        {type:'Admin',content:"admin 最牛"},
        {type:'NormalUser',content:"normalUser"}
    ];
    data.forEach(function (item) {
        UserFactory(item.type,item.content);
    })

    let a= UserFactory('SuperAdmin',"SuperAdmin最牛");
    console.log(a)


</script>

</body>
</html>